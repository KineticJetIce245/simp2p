import"../chunks/DsnmJJEf.js";import"../chunks/CjpXrMqX.js";import{o as fe}from"../chunks/BSzUN1PK.js";import{A as ae,G as he,g as S,_ as pe,D as ge,w as me,af as te,ag as xe,B as K,ah as se,ai as j,E as k,x as ie,z as _e,aj as we,ak as U,y as ne,al as be,am as ye,V as Ee,an as Me,ao as qe,ap as Te,M as V,T as Ce,I as $e,a2 as Ne,J as He,K as ke,L as ee,N as G,F as L,U as ze,aq as Ae,O as Ie,i as D,j as B,m as z,p as re,a9 as Se,$ as De,n as le,a0 as P,o as E,q as w,s as H,t as oe,v as O,ar as X,as as Re,at as Y,k as Ze}from"../chunks/C8ZltreA.js";import{i as Le,b as Be}from"../chunks/CAcGv-p2.js";import{i as Oe}from"../chunks/DDcr_wUF.js";/* empty css                */function Fe(a,t,e){for(var i=a.items,d=[],r=t.length,s=0;s<r;s++)Me(t[s].e,d,!0);var u=r>0&&d.length===0&&e!==null;if(u){var g=e.parentNode;qe(g),g.append(e),i.clear(),N(a,t[0].prev,t[r-1].next)}Te(d,()=>{for(var f=0;f<r;f++){var m=t[f];u||(i.delete(m.k),N(a,m.prev,m.next)),ne(m.e,!u)}})}function Ue(a,t,e,i,d,r=null){var s=a,u={flags:t,items:new Map,first:null};{var g=a;s=k?V(Ce(g)):g.appendChild(ae())}k&&$e();var f=null,m=!1,M=new Map,n=pe(()=>{var v=e();return xe(v)?v:v==null?[]:te(v)}),h,l;function c(){Ve(l,h,u,M,s,d,t,i,e),r!==null&&(h.length===0?f?ie(f):f=K(()=>r(s)):f!==null&&_e(f,()=>{f=null}))}he(()=>{l??=Ne,h=S(n);var v=h.length;if(m&&v===0)return;m=v===0;let T=!1;if(k){var q=He(s)===ke;q!==(v===0)&&(s=ee(),V(s),G(!1),T=!0)}if(k){for(var p=null,_,o=0;o<v;o++){if(L.nodeType===ze&&L.data===Ae){s=L,T=!0,G(!1);break}var b=h[o],x=i(b,o);_=W(L,u,p,null,b,x,o,d,t,e),u.items.set(x,_),p=_}v>0&&V(ee())}if(k)v===0&&r&&(f=K(()=>r(s)));else if(ge()){var C=new Set,y=me;for(o=0;o<v;o+=1){b=h[o],x=i(b,o);var A=u.items.get(x)??M.get(x);A||(_=W(null,u,null,null,b,x,o,d,t,e,!0),M.set(x,_)),C.add(x)}for(const[$,I]of u.items)C.has($)||y.skipped_effects.add(I.e);y.oncommit(c)}else c();T&&G(!0),S(n)}),k&&(s=L)}function Ve(a,t,e,i,d,r,s,u,g){var f=t.length,m=e.items,M=e.first,n=M,h,l=null,c=[],v=[],T,q,p,_;for(_=0;_<f;_+=1){if(T=t[_],q=u(T,_),p=m.get(q),p===void 0){var o=i.get(q);if(o!==void 0){i.delete(q),m.set(q,o);var b=l?l.next:n;N(e,l,o),N(e,o,b),J(o,b,d),l=o}else{var x=n?n.e.nodes_start:d;l=W(x,e,l,l===null?e.first:l.next,T,q,_,r,s,g)}m.set(q,l),c=[],v=[],n=l.next;continue}if((p.e.f&U)!==0&&ie(p.e),p!==n){if(h!==void 0&&h.has(p)){if(c.length<v.length){var C=v[0],y;l=C.prev;var A=c[0],$=c[c.length-1];for(y=0;y<c.length;y+=1)J(c[y],C,d);for(y=0;y<v.length;y+=1)h.delete(v[y]);N(e,A.prev,$.next),N(e,l,A),N(e,$,C),n=C,l=$,_-=1,c=[],v=[]}else h.delete(p),J(p,n,d),N(e,p.prev,p.next),N(e,p,l===null?e.first:l.next),N(e,l,p),l=p;continue}for(c=[],v=[];n!==null&&n.k!==q;)(n.e.f&U)===0&&(h??=new Set).add(n),v.push(n),n=n.next;if(n===null)continue;p=n}c.push(p),l=p,n=p.next}if(n!==null||h!==void 0){for(var I=h===void 0?[]:te(h);n!==null;)(n.e.f&U)===0&&I.push(n),n=n.next;var R=I.length;if(R>0){var F=f===0?d:null;Fe(e,I,F)}}a.first=e.first&&e.first.e,a.last=l&&l.e;for(var Z of i.values())ne(Z.e);i.clear()}function W(a,t,e,i,d,r,s,u,g,f,m){var M=(g&be)!==0,n=(g&ye)===0,h=M?n?se(d,!1,!1):j(d):d,l=(g&we)===0?s:j(s),c={i:l,v:h,k:r,a:null,e:null,prev:e,next:i};try{if(a===null){var v=document.createDocumentFragment();v.append(a=ae())}return c.e=K(()=>u(a,h,l,f),k),c.e.prev=e&&e.e,c.e.next=i&&i.e,e===null?m||(t.first=c):(e.next=c,e.e.next=c.e),i!==null&&(i.prev=c,i.e.prev=c.e),c}finally{}}function J(a,t,e){for(var i=a.next?a.next.e.nodes_start:e,d=t?t.e.nodes_start:e,r=a.e.nodes_start;r!==null&&r!==i;){var s=Ee(r);d.before(r),r=s}}function N(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function Q(a,t){Ie(()=>{var e=a.getRootNode(),i=e.host?e:e.head??e.ownerDocument.head;if(!i.querySelector("#"+t.hash)){const d=document.createElement("style");d.id=t.hash,d.textContent=t.code,i.appendChild(d)}})}function Ge(a,t,e){var i=a==null?"":""+a;return i=i?i+" "+t:t,i===""?null:i}function Ye(a,t,e,i,d,r){var s=a.__className;if(k||s!==e||s===void 0){var u=Ge(e,i);(!k||u!==a.getAttribute("class"))&&(u==null?a.removeAttribute("class"):a.className=u),a.__className=e}return r}var Je=B('<div class="form-container svelte-18502gt"><p class="title svelte-18502gt">Generate</p> <p class="title svelte-18502gt">Receive</p></div>');const Ke={hash:"svelte-18502gt",code:`\r
  @import "$lib/theme.css";.form-container.svelte-18502gt {padding:40px;font-size:24px;}.title.svelte-18502gt {margin:0;font-size:30px;font-weight:bold;color:var(--clr-light-a0);}`};function Pe(a){Q(a,Ke);var t=Je();z(a,t)}customElements.define("new-chat-subpage",D(Pe,{},[],[],!0));var We=B('<div><div class="message-info svelte-29qo5e"><b> </b> </div> </div>'),Xe=B('<div class="message-holder svelte-29qo5e"></div>');const Qe={hash:"svelte-29qo5e",code:".message-holder.svelte-29qo5e {display:flex;flex-direction:column;padding:10px;}.message.svelte-29qo5e {margin-bottom:15px;padding:10px 15px;border-radius:10px;max-width:70%;font-size:18px;}.message-info.svelte-29qo5e {font-size:12px;color:var(--clr-primary-a0);}.local-message.svelte-29qo5e {color:var(--clr-light-a0);align-self:flex-end;}.remote-message.svelte-29qo5e {color:var(--clr-light-a0);align-self:flex-start;}"};function de(a,t){re(t,!0),Q(a,Qe);let e=Se(De([]));var d={self:{addMessage:s=>{P(e,[...S(e),s],!0),console.log("Message added to chat subpage:",S(e))},switchMessages:s=>{P(e,s,!0)}}},r=Xe();return Ue(r,20,()=>S(e),s=>s,(s,u)=>{var g=We(),f=E(g),m=E(f),M=E(m,!0);w(m);var n=H(m);w(f);var h=H(f);w(g),oe(()=>{Ye(g,1,`message ${u.isloacal===!0?"local-message":"remote-message"}`,"svelte-29qo5e"),O(M,u.isloacal===!0?"Local":"Remote"),O(n,`:
        ${u.time??""}`),O(h,` ${u.text??""}`)}),z(s,g)}),w(r),z(a,r),le(d)}customElements.define("chat-subpage",D(de,{},[],["self"],!0));var je=X('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"></path></svg>');function ve(a){var t=je();z(a,t)}customElements.define("icon-add-box",D(ve,{},[],[],!0));var ea=X('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff"><path d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"></path></svg>');function ue(a){var t=ea();z(a,t)}customElements.define("icon-send",D(ue,{},[],[],!0));var aa=X('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"></path></svg>');function ce(a){var t=aa();z(a,t)}customElements.define("icon-upload-file",D(ce,{},[],[],!0));var ta=B('<div class="chat-holder svelte-1uha8ag"><!></div> <div class="chat-input svelte-1uha8ag"><input type="text" placeholder="Type a message..." class="svelte-1uha8ag"/> <button style="display:flex; align-items:center;" class="svelte-1uha8ag"><!>Send File</button> <button style="display:flex; align-items:center;" class="svelte-1uha8ag"><!>Send</button></div>',1),sa=B('<main class="svelte-1uha8ag"><div class="container svelte-1uha8ag"><div class="sidebar svelte-1uha8ag"><div class="sidebar-header svelte-1uha8ag">Web RTC</div> <div class="conversations svelte-1uha8ag"><div role="button" aria-labelledby="Load Conversations" tabindex="0" class="conversation svelte-1uha8ag">Conversation 1</div></div> <div role="button" aria-labelledby="Load Conversations" tabindex="0" class="new-chat svelte-1uha8ag"><!> <p style="horizontal-align:middle; font-size:18px;">New Chat</p></div></div> <div class="main-chat svelte-1uha8ag"><div class="chat-header svelte-1uha8ag"> </div> <!></div></div></main>');const ia={hash:"svelte-1uha8ag",code:`main.svelte-1uha8ag {height:100%;margin:0;padding:0;}.container.svelte-1uha8ag {display:flex;height:100vh;}\r
\r
  /* Sidebar */.sidebar.svelte-1uha8ag {width:300px;display:flex;flex-direction:column;align-items:center;}.sidebar-header.svelte-1uha8ag {width:100%;padding:20px;font-size:20px;font-weight:bold;text-align:center;}.conversations.svelte-1uha8ag {width:100%;flex:1;overflow-y:auto;}.conversation.svelte-1uha8ag {padding:10px 15px;margin:10px;border-radius:10px;cursor:pointer;font-size:18px;}.new-chat.svelte-1uha8ag {padding:10px 15px;cursor:pointer;margin:10px;margin-right:20px;border-radius:10px;width:60%;height:24px;display:flex;justify-content:center;align-items:center;}\r
\r
  /* Main chat area */.main-chat.svelte-1uha8ag {flex:1;display:flex;flex-direction:column;}.chat-header.svelte-1uha8ag {padding:20px;font-weight:bold;font-size:20px;}.chat-holder.svelte-1uha8ag {flex:1;padding:20px;overflow-y:auto;}.chat-input.svelte-1uha8ag {padding:15px 20px;display:flex;font-size:18px;}.chat-input.svelte-1uha8ag input:where(.svelte-1uha8ag) {flex:1;padding:10px 15px;border-radius:20px;outline:none;font-size:18px;}.chat-input.svelte-1uha8ag button:where(.svelte-1uha8ag) {margin-left:10px;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;font-size:18px;}`};function na(a,t){re(t,!1),Q(a,ia);let i={conversation_name:"New Chat"},d=se(),r;fe(()=>{console.log("Main Page Mounted."),r=S(d).self});async function s(){let o=document.querySelector(".chat-input input"),b=o.value;if(b.trim()===""){console.warn("Empty message in input field, not sending.");return}console.log("Send Text Called");let x=Date.now();const C={id:x,time:new Date(x).toLocaleString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!1}),text:b,isloacal:!0};r&&r.addMessage?r.addMessage(C):console.error(`Unable to load message on the chat
      subpage: subpage reference is not defined`),o.value=""}let u=`Lorem ipsum dolor sit amet,
  consectetur adipiscing elit, sed do eiusmod
  tempor incididunt ut labore et dolore magna aliqua.
  Ut enim ad minim veniam, quis nostrud exercitation ullamco
  laboris nisi ut aliquip ex ea commodo consequat. Duis
  aute irure dolor in reprehenderit in voluptate velit esse
  cillum dolore eu fugiat nulla pariatur. Excepteur sint
  occaecat cupidatat non proident, sunt in culpa qui
  officia deserunt mollit anim id est laborum.`;function g(){console.log("Switch Conversation Called");let o=[{id:"1",text:u,isloacal:!1},{id:"2",text:"Hi! How are you?",isloacal:!0}];r&&r.switchMessages?r.switchMessages(o):console.error("switchMessagesRef is not defined")}Oe();var f=sa(),m=E(f),M=E(m),n=H(E(M),2),h=E(n);h.__click=g,h.__keydown=o=>o.key==="Enter"&&g(),w(n);var l=H(n,2);l.__click=g,l.__keydown=o=>o.key==="Enter"&&g();var c=E(l);ve(c),Y(2),w(l),w(M);var v=H(M,2),T=E(v),q=E(T,!0);w(T);var p=H(T,2);{var _=o=>{var b=ta(),x=Ze(b),C=E(x);Be(de(C,{$$legacy:!0}),Z=>P(d,Z),()=>S(d)),w(x);var y=H(x,2),A=E(y);A.__keydown=Z=>Z.key==="Enter"&&s();var $=H(A,2);$.__click=s;var I=E($);ce(I),Y(),w($);var R=H($,2);R.__click=s;var F=E(R);ue(F),Y(),w(R),w(y),z(o,b)};Le(p,o=>{o(_)})}w(v),w(m),w(f),oe(()=>O(q,i.conversation_name)),z(a,f),le()}Re(["click","keydown"]);D(na,{},[],[],!0);export{na as component};
