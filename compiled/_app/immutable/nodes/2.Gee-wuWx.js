import"../chunks/DsnmJJEf.js";import"../chunks/VuGKkaSO.js";import{o as de}from"../chunks/BlCg1B0U.js";import{y as ce,z as Me,g as q,Z as Te,O as Ee,I as qe,af as ue,ag as Ce,M as W,ah as X,ai as re,w as C,J as fe,L as ke,aj as Se,ak as Y,K as pe,al as He,am as Ne,B as $e,an as ze,ao as De,ap as Ze,E as J,A as Ae,x as Ie,a1 as Re,Q as Le,R as Be,S as le,D as K,F as L,C as Oe,aq as Pe,T as Fe,i as A,p as ee,ar as G,t as ae,m as $,n as te,ab as Ge,as as ge,j as P,s as N,o as w,at as B,q as b,a9 as Ue,_ as Ve,$ as O,v as F,au as ie,aa as ne,k as Ye}from"../chunks/DPQKrAcc.js";import{p as Je,i as Ke,b as oe}from"../chunks/pSxuZ4nq.js";import{i as Qe}from"../chunks/B50Qp-Qt.js";/* empty css                */function We(a,t,e){for(var s=a.items,l=[],r=t.length,i=0;i<r;i++)ze(t[i].e,l,!0);var v=r>0&&l.length===0&&e!==null;if(v){var x=e.parentNode;De(x),x.append(e),s.clear(),H(a,t[0].prev,t[r-1].next)}Ze(l,()=>{for(var f=0;f<r;f++){var h=t[f];v||(s.delete(h.k),H(a,h.prev,h.next)),pe(h.e,!v)}})}function Xe(a,t,e,s,l,r=null){var i=a,v={flags:t,items:new Map,first:null};{var x=a;i=C?J(Ae(x)):x.appendChild(ce())}C&&Ie();var f=null,h=!1,T=new Map,n=Te(()=>{var u=e();return Ce(u)?u:u==null?[]:ue(u)}),p,o;function d(){je(o,p,v,T,i,l,t,s,e),r!==null&&(p.length===0?f?fe(f):f=W(()=>r(i)):f!==null&&ke(f,()=>{f=null}))}Me(()=>{o??=Re,p=q(n);var u=p.length;if(h&&u===0)return;h=u===0;let k=!1;if(C){var E=Le(i)===Be;E!==(u===0)&&(i=le(),J(i),K(!1),k=!0)}if(C){for(var g=null,y,m=0;m<u;m++){if(L.nodeType===Oe&&L.data===Pe){i=L,k=!0,K(!1);break}var S=p[m],c=s(S,m);y=j(L,v,g,null,S,c,m,l,t,e),v.items.set(c,y),g=y}u>0&&J(le())}if(C)u===0&&r&&(f=W(()=>r(i)));else if(Ee()){var M=new Set,_=qe;for(m=0;m<u;m+=1){S=p[m],c=s(S,m);var z=v.items.get(c)??T.get(c);z||(y=j(null,v,null,null,S,c,m,l,t,e,!0),T.set(c,y)),M.add(c)}for(const[D,Z]of v.items)M.has(D)||_.skipped_effects.add(Z.e);_.oncommit(d)}else d();k&&K(!0),q(n)}),C&&(i=L)}function je(a,t,e,s,l,r,i,v,x){var f=t.length,h=e.items,T=e.first,n=T,p,o=null,d=[],u=[],k,E,g,y;for(y=0;y<f;y+=1){if(k=t[y],E=v(k,y),g=h.get(E),g===void 0){var m=s.get(E);if(m!==void 0){s.delete(E),h.set(E,m);var S=o?o.next:n;H(e,o,m),H(e,m,S),Q(m,S,l),o=m}else{var c=n?n.e.nodes_start:l;o=j(c,e,o,o===null?e.first:o.next,k,E,y,r,i,x)}h.set(E,o),d=[],u=[],n=o.next;continue}if((g.e.f&Y)!==0&&fe(g.e),g!==n){if(p!==void 0&&p.has(g)){if(d.length<u.length){var M=u[0],_;o=M.prev;var z=d[0],D=d[d.length-1];for(_=0;_<d.length;_+=1)Q(d[_],M,l);for(_=0;_<u.length;_+=1)p.delete(u[_]);H(e,z.prev,D.next),H(e,o,z),H(e,D,M),n=M,o=D,y-=1,d=[],u=[]}else p.delete(g),Q(g,n,l),H(e,g.prev,g.next),H(e,g,o===null?e.first:o.next),H(e,o,g),o=g;continue}for(d=[],u=[];n!==null&&n.k!==E;)(n.e.f&Y)===0&&(p??=new Set).add(n),u.push(n),n=n.next;if(n===null)continue;g=n}d.push(g),o=g,n=g.next}if(n!==null||p!==void 0){for(var Z=p===void 0?[]:ue(p);n!==null;)(n.e.f&Y)===0&&Z.push(n),n=n.next;var I=Z.length;if(I>0){var U=f===0?l:null;We(e,Z,U)}}a.first=e.first&&e.first.e,a.last=o&&o.e;for(var R of s.values())pe(R.e);s.clear()}function j(a,t,e,s,l,r,i,v,x,f,h){var T=(x&He)!==0,n=(x&Ne)===0,p=T?n?X(l,!1,!1):re(l):l,o=(x&Se)===0?i:re(i),d={i:o,v:p,k:r,a:null,e:null,prev:e,next:s};try{if(a===null){var u=document.createDocumentFragment();u.append(a=ce())}return d.e=W(()=>v(a,p,o,f),C),d.e.prev=e&&e.e,d.e.next=s&&s.e,e===null?h||(t.first=d):(e.next=d,e.e.next=d.e),s!==null&&(s.prev=d,s.e.prev=d.e),d}finally{}}function Q(a,t,e){for(var s=a.next?a.next.e.nodes_start:e,l=t?t.e.nodes_start:e,r=a.e.nodes_start;r!==null&&r!==s;){var i=$e(r);l.before(r),r=i}}function H(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function se(a,t){Fe(()=>{var e=a.getRootNode(),s=e.host?e:e.head??e.ownerDocument.head;if(!s.querySelector("#"+t.hash)){const l=document.createElement("style");l.id=t.hash,l.textContent=t.code,s.appendChild(l)}})}function ea(a,t,e){var s=a==null?"":""+a;return s=s?s+" "+t:t,s===""?null:s}function aa(a,t){return a==null?null:String(a)}function ve(a,t,e,s,l,r){var i=a.__className;if(C||i!==e||i===void 0){var v=ea(e,s);(!C||v!==a.getAttribute("class"))&&(v==null?a.removeAttribute("class"):a.className=v),a.__className=e}return r}function ta(a,t,e,s){var l=a.__style;if(C||l!==t){var r=aa(t);(!C||r!==a.getAttribute("style"))&&(r==null?a.removeAttribute("style"):a.style.cssText=r),a.__style=t}return s}var sa=G('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"></path></svg>');function he(a,t){ee(t,!1);let e=Je(t,"scale",12,1);var s={get scale(){return e()},set scale(r){e(r),Ge()}},l=sa();return ae(()=>ta(l,`transform: scale(${e()??""});`)),$(a,l),te(s)}customElements.define("icon-gensdp",A(he,{scale:{}},[],[],!0));var ra=P('<div class="form-container svelte-18502gt"><p class="title svelte-18502gt">Conversation</p> <hr class="sepline svelte-18502gt"/> <div class="conversation-info-form svelte-18502gt"><p class="subTitle svelte-18502gt">Title</p> <input id="title-input" placeholder="Title of the converstation goes to here..." class="svelte-18502gt"/></div> <p class="title svelte-18502gt">Generate SDP</p> <hr class="sepline svelte-18502gt"/> <div role="button" aria-labelledby="Generate SDP" tabindex="0" class="file-generation-form svelte-18502gt"><!> <p class="help-text svelte-18502gt">Click here to generate sdp.</p></div> <p class="title svelte-18502gt">Receive SDP</p> <hr class="sepline svelte-18502gt"/> <div class="file-reception-form"></div></div>');const la={hash:"svelte-18502gt",code:".form-container.svelte-18502gt {padding:40px;font-size:24px;min-width:400px;width:80%;max-width:600px;align-self:center;margin:20px;border-radius:20px;background-color:#ffffff10;}.title.svelte-18502gt {margin:0;font-size:30px;font-weight:bold;color:var(--clr-light-a0);}.sepline.svelte-18502gt {margin:0;padding:0;border-width:1px;border-color:var(--clr-surface-a10);}.conversation-info-form.svelte-18502gt {margin:0;padding:10px 0px 10px 0px;width:100%;}.subTitle.svelte-18502gt {margin:0;padding:0;font-size:20px;color:var(--clr-light-a0);font-weight:bold;}#title-input.svelte-18502gt {padding:7px 10px 7px 10px;border-radius:8px;outline:none;font-size:15px;border:1px solid var(--clr-surface-tonal-a30);background-color:var(--clr-surface-a20);color:var(--clr-light-a0);width:calc(100% - 20px);align-self:center;}#title-input.svelte-18502gt:focus {border:1px solid var(--clr-primary-a0);}.file-generation-form.svelte-18502gt {margin:20px;border:2px dashed var(--clr-surface-tonal-a30);border-radius:15px;height:150px;cursor:pointer;display:flex;align-items:center;justify-content:space-evenly;background-color:var(--clr-surface-tonal-a10);color:var(--clr-surface-tonal-a30);fill:var(--clr-surface-tonal-a30);}.file-generation-form.svelte-18502gt:hover {border:2px dashed var(--clr-primary-a10);background-color:var(--clr-surface-tonal-a20);}.file-generation-form.svelte-18502gt:hover {color:var(--clr-primary-a30);fill:var(--clr-primary-a30);}.help-text.svelte-18502gt {font-size:18px;}"};function me(a){se(a,la);async function t(){console.log("Generate SDP called")}var e=ra(),s=N(w(e),10);s.__click=t,s.__keydown=r=>r.key==="Enter"&&t();var l=w(s);he(l,{scale:"2"}),B(2),b(s),B(6),b(e),$(a,e)}ge(["click","keydown"]);customElements.define("new-chat-subpage",A(me,{},[],[],!0));var ia=P("<div><div><div><b> </b> </div></div> </div>"),na=P('<div class="message-holder svelte-29qo5e"></div>');const oa={hash:"svelte-29qo5e",code:".message-holder.svelte-29qo5e {display:flex;flex-direction:column;padding:10px;}.message.svelte-29qo5e {color:var(--clr-light-a0);margin-bottom:15px;padding:10px 15px;border-radius:10px;max-width:70%;font-size:18px;word-break:break-all;align-items:end;}.message-info.svelte-29qo5e {font-size:12px;color:var(--clr-primary-a0);}.local-message.svelte-29qo5e {align-self:flex-end;display:flex;flex-direction:column;}.remote-message.svelte-29qo5e {align-self:flex-start;display:flex;flex-direction:column;}"};function xe(a,t){ee(t,!0),se(a,oa);let e=Ue(Ve([]));const s={addMessage:i=>{O(e,[...q(e),i],!0),console.log("Message added to chat subpage:",i)},switchMessages:i=>{O(e,i,!0)}};de(()=>{let i=document.querySelector(".message-holder");var v=new MutationObserver(()=>{i.scrollIntoView({behavior:"smooth",block:"end"})});v.observe(i,{childList:!0})});var l={self:s},r=na();return Xe(r,20,()=>q(e),i=>i,(i,v)=>{var x=ia(),f=w(x),h=w(f),T=w(h),n=w(T,!0);b(T);var p=N(T);b(h),b(f);var o=N(f);b(x),ae(()=>{ve(x,1,`message ${v.isloacal===!0?"local-message":"remote-message"}`,"svelte-29qo5e"),ve(f,1,`message-info ${v.isloacal===!0?"local-message":"remote-message"}`,"svelte-29qo5e"),F(n,v.isloacal===!0?"Local":"Remote"),F(p,`: ${v.time??""}`),F(o,` ${v.text??""}`)}),$(i,x)}),b(r),$(a,r),te(l)}customElements.define("chat-subpage",A(xe,{},[],["self"],!0));var va=G('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"></path></svg>');function _e(a){var t=va();$(a,t)}customElements.define("icon-add-box",A(_e,{},[],[],!0));var da=G('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff"><path d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"></path></svg>');function be(a){var t=da();$(a,t)}customElements.define("icon-send",A(be,{},[],[],!0));var ca=G('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"></path></svg>');function we(a){var t=ca();$(a,t)}customElements.define("icon-upload-file",A(we,{},[],[],!0));var ua=P('<div class="chat-holder svelte-1uha8ag"><!></div> <div class="chat-input svelte-1uha8ag"><input type="text" placeholder="Type a message..." class="svelte-1uha8ag"/> <button style="display:flex; align-items:center;" class="svelte-1uha8ag"><!>Send File</button> <button style="display:flex; align-items:center;" class="svelte-1uha8ag"><!>Send</button></div>',1),fa=P('<main class="svelte-1uha8ag"><div class="container svelte-1uha8ag"><div class="sidebar svelte-1uha8ag"><div class="sidebar-header svelte-1uha8ag">Web RTC</div> <div class="conversations svelte-1uha8ag"><div role="button" aria-labelledby="Load Conversations" tabindex="0" class="conversation svelte-1uha8ag">Conversation 1</div></div> <div role="button" aria-labelledby="Start New Chat" tabindex="0" class="new-chat svelte-1uha8ag"><!> <p style="horizontal-align:middle; font-size:18px;">New Chat</p></div></div> <div class="main-chat svelte-1uha8ag"><div class="chat-header svelte-1uha8ag"> </div> <!></div></div></main>');const pa={hash:"svelte-1uha8ag",code:`main.svelte-1uha8ag {height:100%;margin:0;padding:0;}.container.svelte-1uha8ag {display:flex;height:100vh;}\r
\r
  /* Sidebar */.sidebar.svelte-1uha8ag {margin:10px;width:300px;display:flex;flex-direction:column;align-items:center;border-radius:20px;}.sidebar-header.svelte-1uha8ag {width:100%;padding:20px;font-size:20px;font-weight:bold;text-align:center;}.conversations.svelte-1uha8ag {width:100%;flex:1;overflow-y:auto;}.conversation.svelte-1uha8ag {padding:10px 15px;margin:10px;border-radius:10px;cursor:pointer;font-size:18px;}.new-chat.svelte-1uha8ag {padding:10px 15px;cursor:pointer;margin:10px;margin-right:20px;border-radius:10px;width:60%;height:24px;display:flex;justify-content:center;align-items:center;}\r
\r
  /* Main chat area */.main-chat.svelte-1uha8ag {flex:1;display:flex;flex-direction:column;}.chat-header.svelte-1uha8ag {margin:10px;border-radius:20px;padding:20px;font-weight:bold;font-size:20px;}.chat-holder.svelte-1uha8ag {flex:1;padding:20px;overflow-y:auto;}.chat-input.svelte-1uha8ag {padding:15px 20px;display:flex;font-size:16px;}.chat-input.svelte-1uha8ag input:where(.svelte-1uha8ag) {flex:1;padding:10px 15px;border-radius:20px;outline:none;font-size:16px;}.chat-input.svelte-1uha8ag button:where(.svelte-1uha8ag) {margin-left:10px;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;font-size:16px;}`};function ga(a,t){ee(t,!1),se(a,pa);const e={loaded:!1,conversation_name:"New Chat",conversation_id:null};let s=X(structuredClone(e)),l=X(),r;de(()=>{console.log("Main Page Mounted.")});async function i(){let c=document.querySelector(".chat-input input"),M=c.value;if(M.trim()===""){console.warn("Empty message in input field, not sending.");return}console.log("Send Text Called"),await ne(),r=q(l).self;let _=Date.now();const z={id:_,time:new Date(_).toLocaleString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!1}),text:M,isloacal:!0};r&&r.addMessage?r.addMessage(z):console.error(`Unable to load message on the chat
      subpage: subpage reference is not defined`),c.value=""}let v=`Lorem ipsum dolor sit amet,
  consectetur adipiscing elit, sed do eiusmod
  tempor incididunt ut labore et dolore magna aliqua.
  Ut enim ad minim veniam, quis nostrud exercitation ullamco
  laboris nisi ut aliquip ex ea commodo consequat. Duis
  aute irure dolor in reprehenderit in voluptate velit esse
  cillum dolore eu fugiat nulla pariatur. Excepteur sint
  occaecat cupidatat non proident, sunt in culpa qui
  officia deserunt mollit anim id est laborum.`;async function x(){console.log("Switch Conversation Called");let c=[{id:"1",text:v,isloacal:!1},{id:"2",text:"Hi! How are you?",isloacal:!0}];ie(s,q(s).loaded=!0),ie(s,q(s).conversation_name="Conversation 1"),await ne(),r=q(l).self,r&&r.switchMessages?r.switchMessages(c):console.error("switchMessagesRef is not defined")}function f(){console.log("Start New Chat Called"),O(s,structuredClone(e))}Qe();var h=fa(),T=w(h),n=w(T),p=N(w(n),2),o=w(p);o.__click=x,o.__keydown=c=>c.key==="Enter"&&x(),b(p);var d=N(p,2);d.__click=f,d.__keydown=c=>c.key==="Enter"&&f();var u=w(d);_e(u),B(2),b(d),b(n);var k=N(n,2),E=w(k),g=w(E,!0);b(E);var y=N(E,2);{var m=c=>{var M=ua(),_=Ye(M),z=w(_);oe(xe(z,{$$legacy:!0}),V=>O(l,V),()=>q(l)),b(_);var D=N(_,2),Z=w(D);Z.__keydown=V=>V.key==="Enter"&&i();var I=N(Z,2);I.__click=i;var U=w(I);we(U),B(),b(I);var R=N(I,2);R.__click=i;var ye=w(R);be(ye),B(),b(R),b(D),$(c,M)},S=c=>{oe(me(c),M=>O(l,M),()=>q(l))};Ke(y,c=>{q(s).loaded?c(m):c(S,!1)})}b(k),b(T),b(h),ae(()=>F(g,q(s).conversation_name)),$(a,h),te()}ge(["click","keydown"]);A(ga,{},[],[],!0);export{ga as component};
