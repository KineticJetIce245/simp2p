import"../chunks/DsnmJJEf.js";import"../chunks/Bkhe4LAc.js";import{o as ce}from"../chunks/qg4JZMh0.js";import{y as we,z as Le,g as E,Z as Pe,O as Ze,I as Ae,af as xe,ag as ze,M as ie,ah as J,ai as ge,w as H,J as be,L as je,aj as Re,ak as te,K as _e,al as Be,am as Oe,B as Ge,an as Fe,ao as Ue,ap as Ve,E as re,A as Ye,x as Je,a1 as Ke,Q as Qe,R as We,S as ue,D as se,F as U,C as Xe,aq as ea,T as aa,i as P,p as j,ar as R,t as B,m as D,n as O,ab as W,as as ye,j as Y,s as I,v as G,$ as A,aa as K,o as M,G as pe,k as oe,q as y,a9 as ta,_ as ra,at as fe,au as le}from"../chunks/C5iT9OoL.js";import{p as X,i as V,b as he}from"../chunks/DgXXG9Ni.js";import{i as Me}from"../chunks/BCvF5oh-.js";/* empty css                */function sa(a,t,e){for(var r=a.items,s=[],l=t.length,i=0;i<l;i++)Fe(t[i].e,s,!0);var g=l>0&&s.length===0&&e!==null;if(g){var _=e.parentNode;Ue(_),_.append(e),r.clear(),L(a,t[0].prev,t[l-1].next)}Ve(s,()=>{for(var f=0;f<l;f++){var h=t[f];g||(r.delete(h.k),L(a,h.prev,h.next)),_e(h.e,!g)}})}function la(a,t,e,r,s,l=null){var i=a,g={flags:t,items:new Map,first:null};{var _=a;i=H?re(Ye(_)):_.appendChild(we())}H&&Je();var f=null,h=!1,q=new Map,d=Pe(()=>{var p=e();return ze(p)?p:p==null?[]:xe(p)}),m,c;function u(){na(c,m,g,q,i,s,t,r,e),l!==null&&(m.length===0?f?be(f):f=ie(()=>l(i)):f!==null&&je(f,()=>{f=null}))}Le(()=>{c??=Ke,m=E(d);var p=m.length;if(h&&p===0)return;h=p===0;let k=!1;if(H){var C=Qe(i)===We;C!==(p===0)&&(i=ue(),re(i),se(!1),k=!0)}if(H){for(var w=null,T,n=0;n<p;n++){if(U.nodeType===Xe&&U.data===ea){i=U,k=!0,se(!1);break}var v=m[n],o=r(v,n);T=de(U,g,w,null,v,o,n,s,t,e),g.items.set(o,T),w=T}p>0&&re(ue())}if(H)p===0&&l&&(f=ie(()=>l(i)));else if(Ze()){var x=new Set,b=Ae;for(n=0;n<p;n+=1){v=m[n],o=r(v,n);var S=g.items.get(o)??q.get(o);S||(T=de(null,g,null,null,v,o,n,s,t,e,!0),q.set(o,T)),x.add(o)}for(const[N,$]of g.items)x.has(N)||b.skipped_effects.add($.e);b.oncommit(u)}else u();k&&se(!0),E(d)}),H&&(i=U)}function na(a,t,e,r,s,l,i,g,_){var f=t.length,h=e.items,q=e.first,d=q,m,c=null,u=[],p=[],k,C,w,T;for(T=0;T<f;T+=1){if(k=t[T],C=g(k,T),w=h.get(C),w===void 0){var n=r.get(C);if(n!==void 0){r.delete(C),h.set(C,n);var v=c?c.next:d;L(e,c,n),L(e,n,v),ne(n,v,s),c=n}else{var o=d?d.e.nodes_start:s;c=de(o,e,c,c===null?e.first:c.next,k,C,T,l,i,_)}h.set(C,c),u=[],p=[],d=c.next;continue}if((w.e.f&te)!==0&&be(w.e),w!==d){if(m!==void 0&&m.has(w)){if(u.length<p.length){var x=p[0],b;c=x.prev;var S=u[0],N=u[u.length-1];for(b=0;b<u.length;b+=1)ne(u[b],x,s);for(b=0;b<p.length;b+=1)m.delete(p[b]);L(e,S.prev,N.next),L(e,c,S),L(e,N,x),d=x,c=N,T-=1,u=[],p=[]}else m.delete(w),ne(w,d,s),L(e,w.prev,w.next),L(e,w,c===null?e.first:c.next),L(e,c,w),c=w;continue}for(u=[],p=[];d!==null&&d.k!==C;)(d.e.f&te)===0&&(m??=new Set).add(d),p.push(d),d=d.next;if(d===null)continue;w=d}u.push(w),c=w,d=w.next}if(d!==null||m!==void 0){for(var $=m===void 0?[]:xe(m);d!==null;)(d.e.f&te)===0&&$.push(d),d=d.next;var Z=$.length;if(Z>0){var z=f===0?s:null;sa(e,$,z)}}a.first=e.first&&e.first.e,a.last=c&&c.e;for(var F of r.values())_e(F.e);r.clear()}function de(a,t,e,r,s,l,i,g,_,f,h){var q=(_&Be)!==0,d=(_&Oe)===0,m=q?d?J(s,!1,!1):ge(s):s,c=(_&Re)===0?i:ge(i),u={i:c,v:m,k:l,a:null,e:null,prev:e,next:r};try{if(a===null){var p=document.createDocumentFragment();p.append(a=we())}return u.e=ie(()=>g(a,m,c,f),H),u.e.prev=e&&e.e,u.e.next=r&&r.e,e===null?h||(t.first=u):(e.next=u,e.e.next=u.e),r!==null&&(r.prev=u,r.e.prev=u.e),u}finally{}}function ne(a,t,e){for(var r=a.next?a.next.e.nodes_start:e,s=t?t.e.nodes_start:e,l=a.e.nodes_start;l!==null&&l!==r;){var i=Ge(l);s.before(l),l=i}}function L(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function ve(a,t){aa(()=>{var e=a.getRootNode(),r=e.host?e:e.head??e.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const s=document.createElement("style");s.id=t.hash,s.textContent=t.code,r.appendChild(s)}})}function Ee(a){var t,e,r="";if(typeof a=="string"||typeof a=="number")r+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(t=0;t<s;t++)a[t]&&(e=Ee(a[t]))&&(r&&(r+=" "),r+=e)}else for(e in a)a[e]&&(r&&(r+=" "),r+=e);return r}function ia(){for(var a,t,e=0,r="",s=arguments.length;e<s;e++)(a=arguments[e])&&(t=Ee(a))&&(r&&(r+=" "),r+=t);return r}function me(a){return typeof a=="object"?ia(a):a??""}function oa(a,t,e){var r=a==null?"":""+a;return t&&(r=r?r+" "+t:t),r===""?null:r}function da(a,t){return a==null?null:String(a)}function Q(a,t,e,r,s,l){var i=a.__className;if(H||i!==e||i===void 0){var g=oa(e,r);(!H||g!==a.getAttribute("class"))&&(g==null?a.removeAttribute("class"):a.className=g),a.__className=e}return l}function ee(a,t,e,r){var s=a.__style;if(H||s!==t){var l=da(t);(!H||l!==a.getAttribute("style"))&&(l==null?a.removeAttribute("style"):a.style.cssText=l),a.__style=t}return r}var ca=R('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"></path></svg>');function qe(a,t){j(t,!1);let e=X(t,"scale",12,1);var r={get scale(){return e()},set scale(l){e(l),W()}},s=ca();return B(()=>ee(s,`transform: scale(${e()??""});`)),D(a,s),O(r)}customElements.define("icon-gensdp",P(qe,{scale:{}},[],[],!0));var va=R('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-520q66 0 113-47t47-113v-120H320v120q0 66 47 113t113 47ZM160-80v-80h80v-120q0-61 28.5-114.5T348-480q-51-32-79.5-85.5T240-680v-120h-80v-80h640v80h-80v120q0 61-28.5 114.5T612-480q51 32 79.5 85.5T720-280v120h80v80H160Z"></path></svg>');function Te(a,t){j(t,!1);let e=X(t,"scale",12,1);var r={get scale(){return e()},set scale(l){e(l),W()}},s=va();return B(()=>ee(s,`transform: scale(${e()??""});`)),D(a,s),O(r)}customElements.define("icon-hourglass",P(Te,{scale:{}},[],[],!0));var ga=R('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-240q-97 0-166-66t-74-162l84 25q13 54 56 88.5T480-320q66 0 113-47t47-113q0-57-34.5-100T517-636l-25-84q96 5 162 74t66 166q0 100-70 170t-170 70Zm0 160q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480v-18q0-9 2-18l78 24v12q0 134 93 227t227 93q134 0 227-93t93-227q0-134-93-227t-227-93h-12l-24-78q9-2 18-2h18q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-59-380L250-631l-50 151L80-880l400 120-151 50 171 171-79 79Z"></path></svg>');function Ce(a,t){j(t,!1);let e=X(t,"scale",12,1);var r={get scale(){return e()},set scale(l){e(l),W()}},s=ga();return B(()=>ee(s,`transform: scale(${e()??""});`)),D(a,s),O(r)}customElements.define("icon-dragclick",P(Ce,{scale:{}},[],[],!0));var ua=R('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v240h-80v-200H520v-200H240v640h360v80H240Zm638 15L760-183v89h-80v-226h226v80h-90l118 118-56 57Zm-638-95v-640 640Z"></path></svg>');function Se(a,t){j(t,!1);let e=X(t,"scale",12,1);var r={get scale(){return e()},set scale(l){e(l),W()}},s=ua();return B(()=>ee(s,`transform: scale(${e()??""});`)),D(a,s),O(r)}customElements.define("icon-openfile",P(Se,{scale:{}},[],[],!0));async function pa(a,t,e){{let r=null;try{r=await ha(),window.logger.logMessage("[estac.cjs]: SDP generation successful."),window["connection-table"].addConnection(t,{bootstrap:r.rtcpc});try{let s=await window.estac.createEstacFile({tmsp:t,sdp:r.sdp,ices:r.ices});return window.logger.logMessage(`[estac.cjs]: ESTAC file created at path: ${s}`),s}catch(s){throw window.logger.errorMessage(`[estac.cjs]: Error creating ESTAC file (${s})`),s}}catch(s){throw window.logger.errorMessage(`[estac.cjs]: Error generating SDP (${s})`),s}}}async function fa(a,t,e){return window.logger.logMessage("[estac.cjs]: Gathering ICE candidates..."),new Promise((r,s)=>{t.onicecandidate=l=>{l.candidate?(window.logger.logMessage("[estac.cjs]: New ICE candidate gathered:"+l.candidate.candidate),e.push({candidate:l.candidate.candidate,sdpMid:l.candidate.sdpMid,sdpMLineIndex:l.candidate.sdpMLineIndex})):window.logger.logMessage("[estac.cjs]: ICE candidate gathering complete.")},setTimeout(()=>{window.logger.errorMessage("[estac.cjs]: ICE candidate gathering timed out."),s(new Error(`Promise timed out after ${a} ms`))},a)})}async function ha(){let a=[];window.logger.logMessage("[estac.cjs]: Starting SDP Offer generation...");let t="stun:stun.l.google.com:19302";const e=new RTCPeerConnection({iceServers:[{urls:t}]});e.createDataChannel("bootstrap");const r=await e.createOffer();await e.setLocalDescription(r);try{await fa(100,e,a)}catch(s){window.logger.errorMessage("[estac.cjs]: ICE candidate gathering error: "+s)}if(a.length===0)throw window.logger.errorMessage("[estac.cjs]: No ICE candidates gathered."),new Error("No ICE candidates gathered.");return{rtcpc:e,sdp:e.localDescription.sdp,ices:a}}var ma=Y('<div class="form-container svelte-18502gt"><p class="title svelte-18502gt">Conversation</p> <hr class="sepline svelte-18502gt"/> <div class="conversation-info-form svelte-18502gt"><p class="subTitle svelte-18502gt">Title</p> <input id="title-input" placeholder="Title of the converstation goes to here..." class="svelte-18502gt"/></div> <p class="title svelte-18502gt">Generate SDP</p> <hr class="sepline svelte-18502gt"/> <div role="button" aria-labelledby="Generate SDP" tabindex=""><!> <p class="help-text svelte-18502gt"> </p></div> <p class="title svelte-18502gt">Receive SDP</p> <hr class="sepline svelte-18502gt"/> <div><!> <p class="help-text svelte-18502gt"> </p></div></div>');const wa={hash:"svelte-18502gt",code:".form-container.svelte-18502gt {padding:40px;font-size:24px;min-width:400px;width:80%;max-width:600px;align-self:center;margin:20px;border-radius:20px;background-color:var(--clr-surface-a20);}.title.svelte-18502gt {margin:0;font-size:30px;font-weight:bold;color:var(--clr-light-a0);}.sepline.svelte-18502gt {margin:0;padding:0;border-width:1px;border-color:var(--clr-light-a10);}.conversation-info-form.svelte-18502gt {margin:0;padding:10px 0px 10px 0px;width:100%;}.subTitle.svelte-18502gt {margin:0;padding:0;font-size:20px;color:var(--clr-light-a0);font-weight:bold;}#title-input.svelte-18502gt {padding:7px 10px 7px 10px;border-radius:8px;outline:none;font-size:15px;border:1px solid var(--clr-surface-tonal-a30);background-color:var(--clr-surface-a20);color:var(--clr-light-a0);width:calc(100% - 20px);align-self:center;}#title-input.svelte-18502gt:focus {border:1px solid var(--clr-primary-a0);}.gen-sdp-enabled.svelte-18502gt {margin:20px;border:2px dashed var(--clr-surface-tonal-a30);border-radius:15px;height:150px;cursor:pointer;display:flex;align-items:center;justify-content:space-evenly;background-color:var(--clr-surface-tonal-a10);color:var(--clr-surface-tonal-a30);fill:var(--clr-surface-tonal-a30);}.gen-sdp-enabled.svelte-18502gt:hover {border:2px dashed var(--clr-primary-a10);background-color:var(--clr-surface-tonal-a20);color:var(--clr-primary-a30);fill:var(--clr-primary-a30);}.gen-sdp-disabled.svelte-18502gt {margin:20px;border:2px dashed var(--clr-surface-tonal-a30);border-radius:15px;height:150px;cursor:not-allowed;display:flex;align-items:center;justify-content:space-evenly;background-color:var(--clr-surface-tonal-a10);color:var(--clr-surface-tonal-a30);fill:var(--clr-surface-tonal-a30);}.gen-sdp-allow-drag.svelte-18502gt {margin:20px;border:2px dashed var(--clr-primary-a30);border-radius:15px;height:150px;display:flex;align-items:center;justify-content:space-evenly;background-color:var(--clr-surface-a20);color:var(--clr-primary-a30);fill:var(--clr-primary-a30);}.drop-sdp-enabled.svelte-18502gt {margin:20px;border:2px dashed var(--clr-surface-tonal-a30);border-radius:15px;height:150px;display:flex;align-items:center;justify-content:space-evenly;background-color:var(--clr-surface-tonal-a10);color:var(--clr-surface-tonal-a30);fill:var(--clr-surface-tonal-a30);}.drop-sdp-enabled-dragover.svelte-18502gt {margin:20px;border:2px dashed var(--clr-primary-a10);border-radius:15px;height:150px;display:flex;align-items:center;justify-content:space-evenly;background-color:var(--clr-surface-tonal-a20);color:var(--clr-primary-a30);fill:var(--clr-primary-a30);}.help-text.svelte-18502gt {font-size:18px;}"};function De(a,t){j(t,!1),ve(a,wa);let e=J("gen-sdp-enabled"),r="drop-sdp-enabled";async function s(){switch(E(e)){case"gen-sdp-enabled":{A(e,"gen-sdp-disabled"),await K(),window.logger.logMessage("[New Chat Subpage]: Generating SDP...");let n=Date.now();try{const v=await pa(!0,n,null);window.logger.logMessage("[New Chat Subpage]: SDP generated at path: "+v),A(e,"gen-sdp-allow-drag"),await K(),l(v,E(e))}catch(v){window.logger.logMessage("[New Chat Subpage]: Error during SDP generation: "+v),A(e,"gen-sdp-enabled");return}break}case"gen-sdp-disabled":{window.logger.logMessage("[New Chat Subpage]: Generation of SDP is already disabled.");break}case"gen-sdp-allow-drag":break;default:window.logger.logMessage("[New Chat Subpage]: Unknown SDP generation state.");return}}function l(n,v){const o=document.getElementsByClassName(v)[0];window.logger.logMessage("[New Chat Subpage]: Setting drag-and-drop for file: "+n),o.setAttribute("draggable","true"),o.addEventListener("dragstart",x=>{x.preventDefault(),window.estac.dragStart(n)})}function i(n){const v=document.getElementsByClassName(n)[0];window.logger.logMessage("[New Chat Subpage]: Setting drop area for receiving SDP."),v.addEventListener("dragover",o=>{o.preventDefault(),v.classList.add("drop-sdp-enabled-dragover"),v.classList.remove("drop-sdp-enabled")}),v.addEventListener("dragleave",o=>{o.preventDefault(),v.classList.add("drop-sdp-enabled"),v.classList.remove("drop-sdp-enabled-dragover")}),v.addEventListener("drop",async o=>{if(o.preventDefault(),v.classList.add("drop-sdp-enabled"),v.classList.remove("drop-sdp-enabled-dragover"),o.dataTransfer.files.length>0){const x=o.dataTransfer.files[0],b=new FileReader;b.onload=async()=>{await window.estac.dropBuffer({name:x.name,data:b.result})},await b.readAsArrayBuffer(x)}else{const x=o.dataTransfer.getData("text/uri-list");await window.estac.dropUrl(x)}})}function g(){switch(E(e)){case"gen-sdp-enabled":return"Click here to generate SDP.";case"gen-sdp-disabled":return"SDP generation in progress.";case"gen-sdp-allow-drag":return"Drag and drop the Estac file"}}function _(){switch(r){case"drop-sdp-enabled":return"Drop the Estac file here to receive SDP.";case"drop-sdp-allow-disabled":return"SDP received successfully."}}ce(()=>{i("drop-sdp-enabled")}),Me();var f=ma(),h=I(M(f),10);h.__click=s,h.__keydown=n=>n.key==="Enter"&&s();var q=M(h);{var d=n=>{qe(n,{scale:"2"})},m=n=>{var v=pe(),o=oe(v);{var x=S=>{Te(S,{scale:"2"})},b=S=>{var N=pe(),$=oe(N);{var Z=z=>{Ce(z,{scale:"2"})};V($,z=>{E(e)==="gen-sdp-allow-drag"&&z(Z)},!0)}D(S,N)};V(o,S=>{E(e)==="gen-sdp-disabled"?S(x):S(b,!1)},!0)}D(n,v)};V(q,n=>{E(e)==="gen-sdp-enabled"?n(d):n(m,!1)})}var c=I(q,2),u=M(c,!0);y(c),y(h);var p=I(h,6);Q(p,1,me(r),"svelte-18502gt");var k=M(p);{var C=n=>{Se(n,{scale:"2"})};V(k,n=>{n(C)})}var w=I(k,2),T=M(w,!0);y(w),y(p),y(f),B((n,v)=>{Q(h,1,me(E(e)),"svelte-18502gt"),G(u,n),G(T,v)},[g,_]),D(a,f),O()}ye(["click","keydown"]);customElements.define("new-chat-subpage",P(De,{},[],[],!0));var xa=Y("<div><div><div><b> </b> </div></div> </div>"),ba=Y('<div class="message-holder svelte-29qo5e"></div>');const _a={hash:"svelte-29qo5e",code:".message-holder.svelte-29qo5e {display:flex;flex-direction:column;padding:10px;}.message.svelte-29qo5e {color:var(--clr-light-a0);margin-bottom:15px;padding:10px 15px;border-radius:10px;max-width:70%;font-size:18px;word-break:break-all;align-items:end;}.message-info.svelte-29qo5e {font-size:12px;color:var(--clr-primary-a0);}.local-message.svelte-29qo5e {align-self:flex-end;display:flex;flex-direction:column;}.remote-message.svelte-29qo5e {align-self:flex-start;display:flex;flex-direction:column;}"};function ke(a,t){j(t,!0),ve(a,_a);let e=ta(ra([]));const r={addMessage:i=>{A(e,[...E(e),i],!0),console.log("Message added to chat subpage:",i)},switchMessages:i=>{A(e,i,!0)}};ce(()=>{let i=document.querySelector(".message-holder");var g=new MutationObserver(()=>{i.scrollIntoView({behavior:"smooth",block:"end"})});g.observe(i,{childList:!0})});var s={self:r},l=ba();return la(l,20,()=>E(e),i=>i,(i,g)=>{var _=xa(),f=M(_),h=M(f),q=M(h),d=M(q,!0);y(q);var m=I(q);y(h),y(f);var c=I(f);y(_),B(()=>{Q(_,1,`message ${g.isloacal===!0?"local-message":"remote-message"}`,"svelte-29qo5e"),Q(f,1,`message-info ${g.isloacal===!0?"local-message":"remote-message"}`,"svelte-29qo5e"),G(d,g.isloacal===!0?"Local":"Remote"),G(m,`: ${g.time??""}`),G(c,` ${g.text??""}`)}),D(i,_)}),y(l),D(a,l),O(s)}customElements.define("chat-subpage",P(ke,{},[],["self"],!0));var ya=R('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"></path></svg>');function Ie(a){var t=ya();D(a,t)}customElements.define("icon-add-box",P(Ie,{},[],[],!0));var Ma=R('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff"><path d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"></path></svg>');function Ne(a){var t=Ma();D(a,t)}customElements.define("icon-send",P(Ne,{},[],[],!0));var Ea=R('<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"></path></svg>');function He(a){var t=Ea();D(a,t)}customElements.define("icon-uploadfile",P(He,{},[],[],!0));var qa=Y('<div class="chat-holder svelte-1uha8ag"><!></div> <div class="chat-input svelte-1uha8ag"><input type="text" placeholder="Type a message..." class="svelte-1uha8ag"/> <button style="display:flex; align-items:center;" class="svelte-1uha8ag"><!>Send File</button> <button style="display:flex; align-items:center;" class="svelte-1uha8ag"><!>Send</button></div>',1),Ta=Y('<main class="svelte-1uha8ag"><div class="container svelte-1uha8ag"><div class="sidebar svelte-1uha8ag"><div class="sidebar-header svelte-1uha8ag">Web RTC</div> <div class="conversations svelte-1uha8ag"><div role="button" aria-labelledby="Load Conversations" tabindex="0" class="conversation svelte-1uha8ag">Conversation 1</div></div> <div role="button" aria-labelledby="Start New Chat" tabindex="0" class="new-chat svelte-1uha8ag"><!> <p style="horizontal-align:middle; font-size:18px;">New Chat</p></div></div> <div class="main-chat svelte-1uha8ag"><div class="chat-header svelte-1uha8ag"> </div> <!></div></div></main>');const Ca={hash:"svelte-1uha8ag",code:`main.svelte-1uha8ag {height:100%;margin:0;padding:0;}.container.svelte-1uha8ag {display:flex;height:100vh;}\r
\r
  /* Sidebar */.sidebar.svelte-1uha8ag {margin:10px;width:300px;display:flex;flex-direction:column;align-items:center;border-radius:20px;}.sidebar-header.svelte-1uha8ag {width:100%;padding:20px;font-size:20px;font-weight:bold;text-align:center;}.conversations.svelte-1uha8ag {width:100%;flex:1;overflow-y:auto;}.conversation.svelte-1uha8ag {padding:10px 15px;margin:10px;border-radius:10px;cursor:pointer;font-size:18px;}.new-chat.svelte-1uha8ag {padding:10px 15px;cursor:pointer;margin:10px;margin-right:20px;border-radius:10px;width:60%;height:24px;display:flex;justify-content:center;align-items:center;}\r
\r
  /* Main chat area */.main-chat.svelte-1uha8ag {flex:1;display:flex;flex-direction:column;}.chat-header.svelte-1uha8ag {margin:10px;border-radius:20px;padding:20px;font-weight:bold;font-size:20px;}.chat-holder.svelte-1uha8ag {flex:1;padding:20px;overflow-y:auto;}.chat-input.svelte-1uha8ag {padding:15px 20px;display:flex;font-size:16px;}.chat-input.svelte-1uha8ag input:where(.svelte-1uha8ag) {flex:1;padding:10px 15px;border-radius:20px;outline:none;font-size:16px;}.chat-input.svelte-1uha8ag button:where(.svelte-1uha8ag) {margin-left:10px;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;font-size:16px;}`};function Sa(a,t){j(t,!1),ve(a,Ca);const e={loaded:!1,conversation_name:"New Chat",conversation_id:null};let r=J(structuredClone(e)),s=J(),l;ce(()=>{window.logger.logMessage("[Main Page]: Main page mounted")});async function i(){let o=document.querySelector(".chat-input input"),x=o.value;if(x.trim()==="")return;await K(),l=E(s).self;let b=Date.now();const S={id:b,time:new Date(b).toLocaleString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!1}),text:x,isloacal:!0};if(l&&l.addMessage)l.addMessage(S);else throw window.logger.logMessage(`[Main Page]: Unable to load message on the chat
      subpage: subpage reference is not defined`),new Error("Chat subpage reference is not defined");o.value=""}let g=`Lorem ipsum dolor sit amet,
  consectetur adipiscing elit, sed do eiusmod
  tempor incididunt ut labore et dolore magna aliqua.
  Ut enim ad minim veniam, quis nostrud exercitation ullamco
  laboris nisi ut aliquip ex ea commodo consequat. Duis
  aute irure dolor in reprehenderit in voluptate velit esse
  cillum dolore eu fugiat nulla pariatur. Excepteur sint
  occaecat cupidatat non proident, sunt in culpa qui
  officia deserunt mollit anim id est laborum.`;async function _(){let o=[{id:"1",text:g,isloacal:!1},{id:"2",text:"Hi! How are you?",isloacal:!0}];fe(r,E(r).loaded=!0),fe(r,E(r).conversation_name="Conversation 1"),await K(),l=E(s).self,l&&l.switchMessages?l.switchMessages(o):console.error("switchMessagesRef is not defined")}function f(){A(r,structuredClone(e))}Me();var h=Ta(),q=M(h),d=M(q),m=I(M(d),2),c=M(m);c.__click=_,c.__keydown=o=>o.key==="Enter"&&_(),y(m);var u=I(m,2);u.__click=f,u.__keydown=o=>o.key==="Enter"&&f();var p=M(u);Ie(p),le(2),y(u),y(d);var k=I(d,2),C=M(k),w=M(C,!0);y(C);var T=I(C,2);{var n=o=>{var x=qa(),b=oe(x),S=M(b);he(ke(S,{$$legacy:!0}),ae=>A(s,ae),()=>E(s)),y(b);var N=I(b,2),$=M(N);$.__keydown=ae=>ae.key==="Enter"&&i();var Z=I($,2);Z.__click=i;var z=M(Z);He(z),le(),y(Z);var F=I(Z,2);F.__click=i;var $e=M(F);Ne($e),le(),y(F),y(N),D(o,x)},v=o=>{he(De(o,{$$legacy:!0}),x=>A(s,x),()=>E(s))};V(T,o=>{E(r).loaded?o(n):o(v,!1)})}y(k),y(q),y(h),B(()=>G(w,E(r).conversation_name)),D(a,h),O()}ye(["click","keydown"]);P(Sa,{},[],[],!0);export{Sa as component};
