import"../chunks/DsnmJJEf.js";import"../chunks/Z8SJaEuc.js";import{o as ne}from"../chunks/1nXwLii1.js";import{O as W,Q as le,g as D,C as oe,a4 as de,_ as ve,af as X,ag as ue,a2 as U,ah as F,ai as Y,M as T,$ as Q,a1 as ce,aj as fe,ak as L,a0 as G,al as he,am as ge,V as pe,an as me,ao as _e,ap as xe,X as O,T as be,N as we,B as ye,a6 as Ee,a7 as Me,a8 as P,W as $,Y as R,U as Te,aq as Ce,w as Ne,ar as Se,i as J,p as K,j as V,m as Z,n as j,ab as qe,o as N,q as E,t as ee,v as Ae,as as He,s as A,at as Ie,z as Re}from"../chunks/eX5SCacK.js";import{p as ke,b as De}from"../chunks/MRDL88aY.js";import{i as Le}from"../chunks/U3L1tLaW.js";/* empty css                */function Oe(a,t,e){for(var s=a.items,i=[],o=t.length,r=0;r<o;r++)me(t[r].e,i,!0);var u=o>0&&i.length===0&&e!==null;if(u){var h=e.parentNode;_e(h),h.append(e),s.clear(),M(a,t[0].prev,t[o-1].next)}xe(i,()=>{for(var c=0;c<o;c++){var _=t[c];u||(s.delete(_.k),M(a,_.prev,_.next)),G(_.e,!u)}})}function $e(a,t,e,s,i,o=null){var r=a,u={flags:t,items:new Map,first:null};{var h=a;r=T?O(be(h)):h.appendChild(W())}T&&we();var c=null,_=!1,b=new Map,n=oe(()=>{var d=e();return ue(d)?d:d==null?[]:X(d)}),f,l;function v(){ze(l,f,u,b,r,i,t,s,e),o!==null&&(f.length===0?c?Q(c):c=U(()=>o(r)):c!==null&&ce(c,()=>{c=null}))}le(()=>{l??=ye,f=D(n);var d=f.length;if(_&&d===0)return;_=d===0;let C=!1;if(T){var g=Ee(r)===Me;g!==(d===0)&&(r=P(),O(r),$(!1),C=!0)}if(T){for(var p=null,x,m=0;m<d;m++){if(R.nodeType===Te&&R.data===Ce){r=R,C=!0,$(!1);break}var S=f[m],y=s(S,m);x=B(R,u,p,null,S,y,m,i,t,e),u.items.set(y,x),p=x}d>0&&O(P())}if(T)d===0&&o&&(c=U(()=>o(r)));else if(de()){var q=new Set,w=ve;for(m=0;m<d;m+=1){S=f[m],y=s(S,m);var k=u.items.get(y)??b.get(y);k||(x=B(null,u,null,null,S,y,m,i,t,e,!0),b.set(y,x)),q.add(y)}for(const[H,I]of u.items)q.has(H)||w.skipped_effects.add(I.e);w.oncommit(v)}else v();C&&$(!0),D(n)}),T&&(r=R)}function ze(a,t,e,s,i,o,r,u,h){var c=t.length,_=e.items,b=e.first,n=b,f,l=null,v=[],d=[],C,g,p,x;for(x=0;x<c;x+=1){if(C=t[x],g=u(C,x),p=_.get(g),p===void 0){var m=s.get(g);if(m!==void 0){s.delete(g),_.set(g,m);var S=l?l.next:n;M(e,l,m),M(e,m,S),z(m,S,i),l=m}else{var y=n?n.e.nodes_start:i;l=B(y,e,l,l===null?e.first:l.next,C,g,x,o,r,h)}_.set(g,l),v=[],d=[],n=l.next;continue}if((p.e.f&L)!==0&&Q(p.e),p!==n){if(f!==void 0&&f.has(p)){if(v.length<d.length){var q=d[0],w;l=q.prev;var k=v[0],H=v[v.length-1];for(w=0;w<v.length;w+=1)z(v[w],q,i);for(w=0;w<d.length;w+=1)f.delete(d[w]);M(e,k.prev,H.next),M(e,l,k),M(e,H,q),n=q,l=H,x-=1,v=[],d=[]}else f.delete(p),z(p,n,i),M(e,p.prev,p.next),M(e,p,l===null?e.first:l.next),M(e,l,p),l=p;continue}for(v=[],d=[];n!==null&&n.k!==g;)(n.e.f&L)===0&&(f??=new Set).add(n),d.push(n),n=n.next;if(n===null)continue;p=n}v.push(p),l=p,n=p.next}if(n!==null||f!==void 0){for(var I=f===void 0?[]:X(f);n!==null;)(n.e.f&L)===0&&I.push(n),n=n.next;var se=I.length;if(se>0){var re=c===0?i:null;Oe(e,I,re)}}a.first=e.first&&e.first.e,a.last=l&&l.e;for(var ie of s.values())G(ie.e);s.clear()}function B(a,t,e,s,i,o,r,u,h,c,_){var b=(h&he)!==0,n=(h&ge)===0,f=b?n?F(i,!1,!1):Y(i):i,l=(h&fe)===0?r:Y(r),v={i:l,v:f,k:o,a:null,e:null,prev:e,next:s};try{if(a===null){var d=document.createDocumentFragment();d.append(a=W())}return v.e=U(()=>u(a,f,l,c),T),v.e.prev=e&&e.e,v.e.next=s&&s.e,e===null?_||(t.first=v):(e.next=v,e.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function z(a,t,e){for(var s=a.next?a.next.e.nodes_start:e,i=t?t.e.nodes_start:e,o=a.e.nodes_start;o!==null&&o!==s;){var r=pe(o);i.before(o),o=r}}function M(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function ae(a,t){Ne(()=>{var e=a.getRootNode(),s=e.host?e:e.head??e.ownerDocument.head;if(!s.querySelector("#"+t.hash)){const i=document.createElement("style");i.id=t.hash,i.textContent=t.code,s.appendChild(i)}})}function Ue(a,t,e){var s=a==null?"":""+a;return s=s?s+" "+t:t,s===""?null:s}function Ze(a,t,e,s,i,o){var r=a.__className;if(T||r!==e||r===void 0){var u=Ue(e,s);(!T||u!==a.getAttribute("class"))&&(u==null?a.removeAttribute("class"):a.className=u),a.__className=e}return o}const Be=Symbol("is custom element"),Ve=Symbol("is html");function Ye(a,t,e,s){var i=Pe(a);if(T){i[t]=a.getAttribute(t);return}i[t]!==(i[t]=e)&&a.setAttribute(t,e)}function Pe(a){return a.__attributes??={[Be]:a.nodeName.includes("-"),[Ve]:a.namespaceURI===Se}}const We="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160ZM200-120q-33%200-56.5-23.5T120-200v-560q0-33%2023.5-56.5T200-840h560q33%200%2056.5%2023.5T840-760v560q0%2033-23.5%2056.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z'/%3e%3c/svg%3e";var Xe=V("<div> </div>"),Fe=V('<div class="message-holder svelte-29qo5e"></div>');const Qe={hash:"svelte-29qo5e",code:".message-holder.svelte-29qo5e {display:flex;flex-direction:column;padding:10px;}.message.svelte-29qo5e {margin-bottom:15px;padding:10px 15px;border-radius:10px;max-width:70%;}.local-message.svelte-29qo5e {color:var(--clr-light-a0);align-self:flex-end;}.remote-message.svelte-29qo5e {color:var(--clr-light-a0);align-self:flex-start;}"};function te(a,t){K(t,!0),ae(a,Qe);let e=ke(t,"messages",23,()=>[{id:"1",text:"Hello!",isloacal:!1}]);function s(r){e([...e(),r])}var i={addMessage:s,get messages(){return e()},set messages(r=[{id:"1",text:"Hello!",isloacal:!1}]){e(r),qe()}},o=Fe();return $e(o,20,e,r=>r,(r,u)=>{var h=Xe(),c=N(h,!0);E(h),ee(()=>{Ze(h,1,`message ${u.isloacal===!0?"local-message":"remote-message"}`,"svelte-29qo5e"),Ae(c,u.text)}),Z(r,h)}),E(o),Z(a,o),j(i)}customElements.define("chat-subpage",J(te,{messages:{}},[],["addMessage"],!0));var Ge=V('<main class="svelte-1uha8ag"><div class="container svelte-1uha8ag"><div class="sidebar svelte-1uha8ag"><div class="sidebar-header svelte-1uha8ag">Web RTC</div> <div class="conversations svelte-1uha8ag"><div role="button" aria-labelledby="Load Conversations" tabindex="0" class="conversation svelte-1uha8ag">Conversation 1</div></div> <div role="button" aria-labelledby="Load Conversations" tabindex="0" class="new-chat svelte-1uha8ag"><img alt="New Chat" style="width:30px; height:30px; margin-right:8px;"/> <p style="horizontal-align:middle; font-size:16px;">New Chat</p></div></div> <div class="main-chat svelte-1uha8ag"><div class="chat-header svelte-1uha8ag">Conversation 1</div> <div class="chat-holder svelte-1uha8ag"><!></div> <div class="chat-input svelte-1uha8ag"><input type="text" placeholder="Type a message..." class="svelte-1uha8ag"/> <button class="svelte-1uha8ag">Send</button></div></div></div></main>');const Je={hash:"svelte-1uha8ag",code:`main.svelte-1uha8ag {height:100%;margin:0;padding:0;}.container.svelte-1uha8ag {display:flex;height:100vh;}\r
\r
  /* Sidebar */.sidebar.svelte-1uha8ag {width:300px;display:flex;flex-direction:column;align-items:center;}.sidebar-header.svelte-1uha8ag {width:100%;padding:20px;font-size:1.2em;font-weight:bold;text-align:center;}.conversations.svelte-1uha8ag {width:100%;flex:1;overflow-y:auto;}.conversation.svelte-1uha8ag {padding:10px 15px;margin:10px;border-radius:10px;cursor:pointer;}.new-chat.svelte-1uha8ag {padding:10px 15px;cursor:pointer;margin:10px;margin-right:20px;border-radius:10px;width:60%;height:24px;display:flex;justify-content:center;align-items:center;}\r
\r
  /* Main chat area */.main-chat.svelte-1uha8ag {flex:1;display:flex;flex-direction:column;}.chat-header.svelte-1uha8ag {padding:20px;font-weight:bold;}.chat-holder.svelte-1uha8ag {flex:1;padding:20px;overflow-y:auto;}.chat-input.svelte-1uha8ag {padding:15px 20px;display:flex;}.chat-input.svelte-1uha8ag input:where(.svelte-1uha8ag) {flex:1;padding:10px 15px;border-radius:20px;outline:none;}.chat-input.svelte-1uha8ag button:where(.svelte-1uha8ag) {margin-left:10px;padding:10px 20px;border:none;border-radius:20px;cursor:pointer;}.chat-input.svelte-1uha8ag button:where(.svelte-1uha8ag):hover {background-color:#0e8e6a;}`};function Ke(a,t){K(t,!1),ae(a,Je);function e(){console.log("Load Conversation Called")}let s=F(),i;ne(()=>{console.log("Main Page Mounted"),i=function(g){D(s).addMessage(g)}});async function o(){console.log("Send Text Called");const g={id:Date.now().toString(),text:"This is a new message!",isloacal:!0};i?i(g):console.error("addMessageRef is not defined")}Le();var r=Ge(),u=N(r),h=N(u),c=A(N(h),2),_=N(c);_.__click=e,_.__keydown=g=>g.key==="Enter"&&e(),E(c);var b=A(c,2);b.__click=e,b.__keydown=g=>g.key==="Enter"&&e();var n=N(b);Ie(2),E(b),E(h);var f=A(h,2),l=A(N(f),2),v=N(l);De(te(v,{$$legacy:!0}),g=>Re(s,g),()=>D(s)),E(l);var d=A(l,2),C=A(N(d),2);C.__click=o,E(d),E(f),E(u),E(r),ee(()=>Ye(n,"src",We)),Z(a,r),j()}He(["click","keydown"]);J(Ke,{},[],[],!0);export{Ke as component};
